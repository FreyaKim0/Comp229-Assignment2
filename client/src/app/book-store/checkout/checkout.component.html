<div class="container-fluid">
  <!--Message show after form sent-->
  <div *ngIf="orderSent" class="m-5 text-center">
    <h3><br /><br />Your payment has been succeed.</h3>
    <p style="font-size: 14px; color: grey">
      You can trace all orders at Purchase history.
    </p>
    <button class="buttonS" routerLink="/admin/main/orders">
      Purchase history
    </button>
    <button class="buttonE" routerLink="/book-list">Return to store</button>
  </div>

  <!--Message show before form sent-->
  <!-- Shipping Form -->
  <form
    *ngIf="!orderSent"
    #form="ngForm"
    novalidate
    (ngSubmit)="submitOrder(form)"
  >
    <div class="d-flex justify-content-center" style="min-width: 400px">
      <div class="left">
        <!--Inputs-->
        <div class="border p-3">
          <!--Form Title-->
          <p class="line_title">Shipping Address</p>
          <hr />

          <!--buyer-->
          <input
            type="text"
            #name="ngModel"
            style="display: none"
            name="buyer"
            [(ngModel)]="order.buyer"
            required
          />

          <!--name-->
          <div class="form-group">
            <label>Name</label><br />
            <input
              type="text"
              #name="ngModel"
              name="name"
              [(ngModel)]="order.name"
              required
            />
            <span class="text-danger" *ngIf="submitted && name.invalid">
              Please Enter your name.
            </span>
          </div>

          <!--address-->
          <div class="form-group">
            <label>Address</label><br />
            <input
              type="text"
              class=""
              #address="ngModel"
              name="address"
              [(ngModel)]="order.address"
              required
            />
            <span *ngIf="submitted && address.invalid" class="text-danger">
              Enter your address
            </span>
          </div>

          <!--city-->
          <div class="form-group">
            <label for="">City</label><br />
            <input
              type="text"
              class=""
              #city="ngModel"
              name="city"
              [(ngModel)]="order.city"
              required
            />
            <span *ngIf="submitted && city.invalid" class="text-danger">
              Enter your city
            </span>
          </div>

          <!--province-->
          <div class="form-group">
            <label for="">Province</label><br />
            <input
              type="text"
              class=""
              #province="ngModel"
              name="province"
              [(ngModel)]="order.province"
              required
            />
            <span *ngIf="submitted && province.invalid" class="text-danger">
              Enter your province
            </span>
          </div>

          <!--p code-->
          <div class="form-group">
            <label for="">postalCode</label><br />
            <input
              type="text"
              class=""
              #postalCode="ngModel"
              name="postalCode"
              [(ngModel)]="order.postalCode"
              required
            />
            <span *ngIf="submitted && postalCode.invalid" class="text-danger">
              Enter your postal code
            </span>
          </div>

          <!--country-->
          <div class="form-group">
            <label for="">Country</label><br />
            <input
              type="text"
              class=""
              #country="ngModel"
              name="country"
              [(ngModel)]="order.country"
              required
            />
            <span *ngIf="submitted && country.invalid" class="text-danger">
              Enter your country
            </span>
          </div>
        </div>
      </div>

      <div class="right">
        <!-- Payment summary -->
        <div class="mt-3 border h-50 p-3">
          <!--Price summary-->
          <p class="line_title">Summary</p>
          <hr />
          <table class="summary">
            <!--Subtotal-->
            <tr>
              <td class="text-left w-50 p-0">Subtotal</td>
              <td class="text-right w-50 p-0">
                {{ cart.cartPrice | currency: "USD":"symbol":"2.2-2" }}
              </td>
            </tr>
            <!--Shipping-->
            <tr>
              <td class="text-left w-50 p-0">Shipping</td>
              <td class="text-right w-50 p-0">$15.00</td>
            </tr>

            <!--Divider-->
            <tr>
              <td class="text-left w-100">
                <hr />
              </td>
              <td class="text-left w-100">
                <hr />
              </td>
            </tr>

            <!--Total-->
            <tr>
              <td class="text-left w-50 p-0">Total</td>
              <td class="text-right w-50 p-0">
                <span style="color: maroon">
                  {{ cart.cartPrice + 15 | currency: "USD":"symbol":"2.2-2" }}
                </span>
              </td>
            </tr>
          </table>

          <!--buttons-->
          <div class="text-center">
            <br />
            <button class="buttonP" type="submit">Process to payment</button>
            <br />
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
